version: "3.9"

services:
  operator:
    build:
      context: .
      dockerfile: europe-west4-docker.pkg.dev/stakewiselabs/public/v3-operator:latest
    image: v3-operator
    container_name: v3-operator
    volumes:
      - ./key-manager/data/:/key-manager/data
      - ./database:/database
    env_file:
      - .env
    environment:
      DATABASE_DIR: /database
      KEYSTORES_PATH: /key-manager/data/keystores
      KEYSTORES_PASSWORD_PATH: /key-manager/data/keystores/password.txt
      DEPOSIT_DATA_PATH: /key-manager/data/deposit_data.json
